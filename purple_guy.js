@title: purple guy
@author: Shaibal Haque
@tags: []
@addedOn: 2024-00-00
*/

const player = "p"
const duck = "d"
const bg_street = "s"
const bg_op = "o"
const building = "b"

  setLegend(
  [ player, bitmap`
................
......0000......
......0HH0......
......000000....
......0CC0..22..
......0CCC0.22..
....0001H10.0...
....0.0HHH000...
...22.05550.....
...22.0HHHH.....
.....HHHHH0.....
.....66666......
.....66666......
......6.6.......
.....03.30......
................` ]
    [ duck, bitmap`
.....FFFFF......
.....FFH0F......
....FFF60F6.....
...FFFFC33......
...FFFFC333.....
...F66661FFF....
...F6666HFFF....
..2F6666F6FF....
..6FF666F66F....
..6FF666F666....
..6FFF66F.66....
...FFFFFF.......
...FFFFFF.......
....9..9........
....99.99.......
................` ]
  [ bg_street, bitmap`
7777777777777777
7777777777722277
7777777772222227
7222277772222222
2222222277112227
1222222277777777
7112221777777777
7777777777777777
7777777777777777
7777777777777777
CCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCC
1111111111111111
LLLLLLLLLLLLLLLL
L66LLL66LL66LL66
LLLLLLLLLLLLLLLL` ]
    [ bg_op, bitmap`
................
................
................
................
.............2..
.....00000...2..
....00LLL00.....
....0221220.....
....0321320.....
.00LLL111LLL00..
.0LLLLL1LLLLL0..
.0L000LLL000L0..
.0L0.00000.0L0..
.000.00.00.000..
.....11.11......
....000.000.....` ]
 [ building, bitmap`
................
................
....L0LLLL0L....
....1L1717L1....
....1L1515L1....
....1L1717L1....
....1L1515L1....
....1L1717L1....
....1L1515L1....
....1L1717L1....
....CCCCCCCC....
....CCCCCCCC....
................
................
................
................` ]    
  )

setSolids([player, bg_op, duck ])

let level = 0
const levels = [
  map`
........
........
........
........
........
........
........`
]

setMap(levels[level])

setPushables({
  [ player ]: [bg_op, duck]
})

onInput("s", () => {
  getFirst(player).y += 1
})
onInput("w" , () => {
  getFrist(player).y -= 1
}
onInput("a" , () => {
  getFrist(player).x -= 1
}
onInput("d" , () => {
  getFrist(player).x += 1
}
onInput("j" , () => {
  setMap(levels[levels])
}

addText("Press J to reset" , {x:2, y:7, color:'9'})

afterInput(() => {
  clearText()
  if(tilesWith(player,building).length >= 1){
     addText("Game won", {x:2, y:7, color:'9'})
  }
})
